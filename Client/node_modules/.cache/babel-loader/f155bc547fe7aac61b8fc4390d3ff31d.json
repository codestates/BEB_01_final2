{"ast":null,"code":"'use strict';\n\nfunction buildRange(item) {\n  return {\n    start: item,\n    count: 1\n  };\n}\n\nfunction completeRangeWithItem(range, item) {\n  range.end = item;\n  range.step = item - range.start;\n  range.count = 2;\n}\n\nfunction finalizeCurrentRange(results, currentRange, currentItemRange) {\n  if (currentRange) {\n    // Two elements do not form a range so split them into 2 single elements\n    if (currentRange.count === 2) {\n      results.push(buildRange(currentRange.start));\n      results.push(buildRange(currentRange.end));\n    } else {\n      results.push(currentRange);\n    }\n  }\n\n  if (currentItemRange) {\n    results.push(currentItemRange);\n  }\n}\n\nfunction compactField(arr) {\n  var results = [];\n  var currentRange = undefined;\n\n  for (var i = 0; i < arr.length; i++) {\n    var currentItem = arr[i];\n\n    if (typeof currentItem !== 'number') {\n      // String elements can't form a range\n      finalizeCurrentRange(results, currentRange, buildRange(currentItem));\n      currentRange = undefined;\n    } else if (!currentRange) {\n      // Start a new range\n      currentRange = buildRange(currentItem);\n    } else if (currentRange.count === 1) {\n      // Guess that the current item starts a range\n      completeRangeWithItem(currentRange, currentItem);\n    } else {\n      if (currentRange.step === currentItem - currentRange.end) {\n        // We found another item that matches the current range\n        currentRange.count++;\n        currentRange.end = currentItem;\n      } else if (currentRange.count === 2) {\n        // The current range can't be continued\n        // Break the first item of the current range into a single element, and try to start a new range with the second item\n        results.push(buildRange(currentRange.start));\n        currentRange = buildRange(currentRange.end);\n        completeRangeWithItem(currentRange, currentItem);\n      } else {\n        // Persist the current range and start a new one with current item\n        finalizeCurrentRange(results, currentRange);\n        currentRange = buildRange(currentItem);\n      }\n    }\n  }\n\n  finalizeCurrentRange(results, currentRange);\n  return results;\n}\n\nmodule.exports = compactField;","map":{"version":3,"sources":["/home/iwc/다운로드/BEB_01_final2-contract/Client/node_modules/cron-parser/lib/field_compactor.js"],"names":["buildRange","item","start","count","completeRangeWithItem","range","end","step","finalizeCurrentRange","results","currentRange","currentItemRange","push","compactField","arr","undefined","i","length","currentItem","module","exports"],"mappings":"AAAA;;AAEA,SAASA,UAAT,CAAoBC,IAApB,EAA0B;AACxB,SAAO;AACLC,IAAAA,KAAK,EAAED,IADF;AAELE,IAAAA,KAAK,EAAE;AAFF,GAAP;AAID;;AAED,SAASC,qBAAT,CAA+BC,KAA/B,EAAsCJ,IAAtC,EAA4C;AAC1CI,EAAAA,KAAK,CAACC,GAAN,GAAYL,IAAZ;AACAI,EAAAA,KAAK,CAACE,IAAN,GAAaN,IAAI,GAAGI,KAAK,CAACH,KAA1B;AACAG,EAAAA,KAAK,CAACF,KAAN,GAAc,CAAd;AACD;;AAED,SAASK,oBAAT,CAA8BC,OAA9B,EAAuCC,YAAvC,EAAqDC,gBAArD,EAAuE;AACrE,MAAID,YAAJ,EAAkB;AAChB;AACA,QAAIA,YAAY,CAACP,KAAb,KAAuB,CAA3B,EAA8B;AAC5BM,MAAAA,OAAO,CAACG,IAAR,CAAaZ,UAAU,CAACU,YAAY,CAACR,KAAd,CAAvB;AACAO,MAAAA,OAAO,CAACG,IAAR,CAAaZ,UAAU,CAACU,YAAY,CAACJ,GAAd,CAAvB;AACD,KAHD,MAGO;AACLG,MAAAA,OAAO,CAACG,IAAR,CAAaF,YAAb;AACD;AACF;;AACD,MAAIC,gBAAJ,EAAsB;AACpBF,IAAAA,OAAO,CAACG,IAAR,CAAaD,gBAAb;AACD;AACF;;AAED,SAASE,YAAT,CAAsBC,GAAtB,EAA2B;AACzB,MAAIL,OAAO,GAAG,EAAd;AACA,MAAIC,YAAY,GAAGK,SAAnB;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,GAAG,CAACG,MAAxB,EAAgCD,CAAC,EAAjC,EAAqC;AACnC,QAAIE,WAAW,GAAGJ,GAAG,CAACE,CAAD,CAArB;;AACA,QAAI,OAAOE,WAAP,KAAuB,QAA3B,EAAqC;AACnC;AACAV,MAAAA,oBAAoB,CAACC,OAAD,EAAUC,YAAV,EAAwBV,UAAU,CAACkB,WAAD,CAAlC,CAApB;AACAR,MAAAA,YAAY,GAAGK,SAAf;AACD,KAJD,MAIO,IAAI,CAACL,YAAL,EAAmB;AACxB;AACAA,MAAAA,YAAY,GAAGV,UAAU,CAACkB,WAAD,CAAzB;AACD,KAHM,MAGA,IAAIR,YAAY,CAACP,KAAb,KAAuB,CAA3B,EAA8B;AACnC;AACAC,MAAAA,qBAAqB,CAACM,YAAD,EAAeQ,WAAf,CAArB;AACD,KAHM,MAGA;AACL,UAAIR,YAAY,CAACH,IAAb,KAAsBW,WAAW,GAAGR,YAAY,CAACJ,GAArD,EAA0D;AACxD;AACAI,QAAAA,YAAY,CAACP,KAAb;AACAO,QAAAA,YAAY,CAACJ,GAAb,GAAmBY,WAAnB;AACD,OAJD,MAIO,IAAIR,YAAY,CAACP,KAAb,KAAuB,CAA3B,EAA8B;AAAE;AACrC;AACAM,QAAAA,OAAO,CAACG,IAAR,CAAaZ,UAAU,CAACU,YAAY,CAACR,KAAd,CAAvB;AACAQ,QAAAA,YAAY,GAAGV,UAAU,CAACU,YAAY,CAACJ,GAAd,CAAzB;AACAF,QAAAA,qBAAqB,CAACM,YAAD,EAAeQ,WAAf,CAArB;AACD,OALM,MAKA;AACL;AACAV,QAAAA,oBAAoB,CAACC,OAAD,EAAUC,YAAV,CAApB;AACAA,QAAAA,YAAY,GAAGV,UAAU,CAACkB,WAAD,CAAzB;AACD;AACF;AACF;;AAEDV,EAAAA,oBAAoB,CAACC,OAAD,EAAUC,YAAV,CAApB;AAEA,SAAOD,OAAP;AACD;;AAEDU,MAAM,CAACC,OAAP,GAAiBP,YAAjB","sourcesContent":["'use strict';\n\nfunction buildRange(item) {\n  return {\n    start: item,\n    count: 1\n  };\n}\n\nfunction completeRangeWithItem(range, item) {\n  range.end = item;\n  range.step = item - range.start;\n  range.count = 2;\n}\n\nfunction finalizeCurrentRange(results, currentRange, currentItemRange) {\n  if (currentRange) {\n    // Two elements do not form a range so split them into 2 single elements\n    if (currentRange.count === 2) {\n      results.push(buildRange(currentRange.start));\n      results.push(buildRange(currentRange.end));\n    } else {\n      results.push(currentRange);\n    }\n  }\n  if (currentItemRange) {\n    results.push(currentItemRange);\n  }\n}\n\nfunction compactField(arr) {\n  var results = [];\n  var currentRange = undefined;\n\n  for (var i = 0; i < arr.length; i++) {\n    var currentItem = arr[i];\n    if (typeof currentItem !== 'number') {\n      // String elements can't form a range\n      finalizeCurrentRange(results, currentRange, buildRange(currentItem));\n      currentRange = undefined;\n    } else if (!currentRange) {\n      // Start a new range\n      currentRange = buildRange(currentItem);\n    } else if (currentRange.count === 1) {\n      // Guess that the current item starts a range\n      completeRangeWithItem(currentRange, currentItem);\n    } else {\n      if (currentRange.step === currentItem - currentRange.end) {\n        // We found another item that matches the current range\n        currentRange.count++;\n        currentRange.end = currentItem;\n      } else if (currentRange.count === 2) { // The current range can't be continued\n        // Break the first item of the current range into a single element, and try to start a new range with the second item\n        results.push(buildRange(currentRange.start));\n        currentRange = buildRange(currentRange.end);\n        completeRangeWithItem(currentRange, currentItem);\n      } else {\n        // Persist the current range and start a new one with current item\n        finalizeCurrentRange(results, currentRange);\n        currentRange = buildRange(currentItem);\n      }\n    }\n  }\n\n  finalizeCurrentRange(results, currentRange);\n\n  return results;\n}\n\nmodule.exports = compactField;\n"]},"metadata":{},"sourceType":"script"}