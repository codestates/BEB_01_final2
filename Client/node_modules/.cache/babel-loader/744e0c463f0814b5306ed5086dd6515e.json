{"ast":null,"code":"'use strict';\n\nvar CronExpression = require('./expression');\n\nfunction CronParser() {}\n/**\n * Parse crontab entry\n *\n * @private\n * @param {String} entry Crontab file entry/line\n */\n\n\nCronParser._parseEntry = function _parseEntry(entry) {\n  var atoms = entry.split(' ');\n\n  if (atoms.length === 6) {\n    return {\n      interval: CronExpression.parse(entry)\n    };\n  } else if (atoms.length > 6) {\n    return {\n      interval: CronExpression.parse(atoms.slice(0, 6).join(' ')),\n      command: atoms.slice(6, atoms.length)\n    };\n  } else {\n    throw new Error('Invalid entry: ' + entry);\n  }\n};\n/**\n * Wrapper for CronExpression.parser method\n *\n * @public\n * @param {String} expression Input expression\n * @param {Object} [options] Parsing options\n * @return {Object}\n */\n\n\nCronParser.parseExpression = function parseExpression(expression, options) {\n  return CronExpression.parse(expression, options);\n};\n/**\n * Wrapper for CronExpression.fieldsToExpression method\n *\n * @public\n * @param {Object} fields Input fields\n * @param {Object} [options] Parsing options\n * @return {Object}\n */\n\n\nCronParser.fieldsToExpression = function fieldsToExpression(fields, options) {\n  return CronExpression.fieldsToExpression(fields, options);\n};\n/**\n * Parse content string\n *\n * @public\n * @param {String} data Crontab content\n * @return {Object}\n */\n\n\nCronParser.parseString = function parseString(data) {\n  var blocks = data.split('\\n');\n  var response = {\n    variables: {},\n    expressions: [],\n    errors: {}\n  };\n\n  for (var i = 0, c = blocks.length; i < c; i++) {\n    var block = blocks[i];\n    var matches = null;\n    var entry = block.trim(); // Remove surrounding spaces\n\n    if (entry.length > 0) {\n      if (entry.match(/^#/)) {\n        // Comment\n        continue;\n      } else if (matches = entry.match(/^(.*)=(.*)$/)) {\n        // Variable\n        response.variables[matches[1]] = matches[2];\n      } else {\n        // Expression?\n        var result = null;\n\n        try {\n          result = CronParser._parseEntry('0 ' + entry);\n          response.expressions.push(result.interval);\n        } catch (err) {\n          response.errors[entry] = err;\n        }\n      }\n    }\n  }\n\n  return response;\n};\n/**\n * Parse crontab file\n *\n * @public\n * @param {String} filePath Path to file\n * @param {Function} callback\n */\n\n\nCronParser.parseFile = function parseFile(filePath, callback) {\n  require('fs').readFile(filePath, function (err, data) {\n    if (err) {\n      callback(err);\n      return;\n    }\n\n    return callback(null, CronParser.parseString(data.toString()));\n  });\n};\n\nmodule.exports = CronParser;","map":{"version":3,"sources":["/Users/yuhojin/Desktop/BEB_01_final2/Client/node_modules/cron-parser/lib/parser.js"],"names":["CronExpression","require","CronParser","_parseEntry","entry","atoms","split","length","interval","parse","slice","join","command","Error","parseExpression","expression","options","fieldsToExpression","fields","parseString","data","blocks","response","variables","expressions","errors","i","c","block","matches","trim","match","result","push","err","parseFile","filePath","callback","readFile","toString","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nvar CronExpression = require('./expression');\n\nfunction CronParser() {}\n\n/**\n * Parse crontab entry\n *\n * @private\n * @param {String} entry Crontab file entry/line\n */\nCronParser._parseEntry = function _parseEntry (entry) {\n  var atoms = entry.split(' ');\n\n  if (atoms.length === 6) {\n    return {\n      interval: CronExpression.parse(entry)\n    };\n  } else if (atoms.length > 6) {\n    return {\n      interval: CronExpression.parse(\n        atoms.slice(0, 6).join(' ')\n      ),\n      command: atoms.slice(6, atoms.length)\n    };\n  } else {\n    throw new Error('Invalid entry: ' + entry);\n  }\n};\n\n/**\n * Wrapper for CronExpression.parser method\n *\n * @public\n * @param {String} expression Input expression\n * @param {Object} [options] Parsing options\n * @return {Object}\n */\nCronParser.parseExpression = function parseExpression (expression, options) {\n  return CronExpression.parse(expression, options);\n};\n\n/**\n * Wrapper for CronExpression.fieldsToExpression method\n *\n * @public\n * @param {Object} fields Input fields\n * @param {Object} [options] Parsing options\n * @return {Object}\n */\nCronParser.fieldsToExpression = function fieldsToExpression (fields, options) {\n  return CronExpression.fieldsToExpression(fields, options);\n};\n\n/**\n * Parse content string\n *\n * @public\n * @param {String} data Crontab content\n * @return {Object}\n */\nCronParser.parseString = function parseString (data) {\n  var blocks = data.split('\\n');\n\n  var response = {\n    variables: {},\n    expressions: [],\n    errors: {}\n  };\n\n  for (var i = 0, c = blocks.length; i < c; i++) {\n    var block = blocks[i];\n    var matches = null;\n    var entry = block.trim(); // Remove surrounding spaces\n\n    if (entry.length > 0) {\n      if (entry.match(/^#/)) { // Comment\n        continue;\n      } else if ((matches = entry.match(/^(.*)=(.*)$/))) { // Variable\n        response.variables[matches[1]] = matches[2];\n      } else { // Expression?\n        var result = null;\n\n        try {\n          result = CronParser._parseEntry('0 ' + entry);\n          response.expressions.push(result.interval);\n        } catch (err) {\n          response.errors[entry] = err;\n        }\n      }\n    }\n  }\n\n  return response;\n};\n\n/**\n * Parse crontab file\n *\n * @public\n * @param {String} filePath Path to file\n * @param {Function} callback\n */\nCronParser.parseFile = function parseFile (filePath, callback) {\n  require('fs').readFile(filePath, function(err, data) {\n    if (err) {\n      callback(err);\n      return;\n    }\n\n    return callback(null, CronParser.parseString(data.toString()));\n  });\n};\n\nmodule.exports = CronParser;\n"]},"metadata":{},"sourceType":"script"}